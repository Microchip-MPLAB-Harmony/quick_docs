<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Configure at91bootstrap Second Stage Bootloader to enable QSPI XIP on MPUs | Microchip MPLAB Harmony Quick Documentation help</title> <meta name="generator" content="Jekyll v3.9.5" /> <meta property="og:title" content="Configure at91bootstrap Second Stage Bootloader to enable QSPI XIP on MPUs" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Quick Documentation package" /> <meta property="og:description" content="Harmony 3 Quick Documentation package" /> <link rel="canonical" href="../../../source/basic/configure_at91bootstrap_to_enable_qspi_xip_mpus/readme.html" /> <meta property="og:url" content="../../../source/basic/configure_at91bootstrap_to_enable_qspi_xip_mpus/readme.html" /> <meta property="og:site_name" content="Microchip MPLAB Harmony Quick Documentation help" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Configure at91bootstrap Second Stage Bootloader to enable QSPI XIP on MPUs" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Harmony 3 Quick Documentation package","headline":"Configure at91bootstrap Second Stage Bootloader to enable QSPI XIP on MPUs","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"url":"../../../source/basic/configure_at91bootstrap_to_enable_qspi_xip_mpus/readme.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../index.html" class="nav-list-link">Harmony 3 Quick Docs</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../source/basic/readme.html" class="nav-list-link">Harmony Basics</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../source/basic/mplab_harmony_3_code_configurator/readme.html" class="nav-list-link">MPLAB Code Configurator (MCC) for Harmony 3 Projects</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_overview_with_harmony_3/readme.html" class="nav-list-link">MPLAB Code Configurator Overview with MPLAB Harmony Content</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_project_graph/readme.html" class="nav-list-link">MCC Project Graph</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_clock_configuration/readme.html" class="nav-list-link">MCC Clock Configuration</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_pin_configuration/readme.html" class="nav-list-link">MCC Pin Configuration</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_nvic_configuration/readme.html" class="nav-list-link">MCC NVIC Configuration</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_dma_configuration/readme.html" class="nav-list-link">MHC DMA Configuration</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_memory_protection_unit_configuration/readme.html" class="nav-list-link">MCC Memory Protection Unit Configuration</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_code_generation/readme.html" class="nav-list-link">MCC Code Generation</a></li><li class="nav-list-item "><a href="../../../source/basic/mcc_plugin_configurations/readme.html" class="nav-list-link">MPLAB Code Configurator Options</a></li><li class="nav-list-item "><a href="../../../source/basic/create_first_harmony_3_project/readme.html" class="nav-list-link">Create First Harmony 3 Project</a></li><li class="nav-list-item "><a href="../../../source/basic/create_hello_world_sam_mcus/readme.html" class="nav-list-link">Create Hello World application on SAM MCUs</a></li><li class="nav-list-item "><a href="../../../source/basic/create_first_harmony_3_project_pic32cm_jh01/readme.html" class="nav-list-link">Create a first application on PIC32CM JH01 Microcontrollers using MPLAB Harmony v3 with using MCC</a></li><li class="nav-list-item "><a href="../../../source/basic/create_hello_world_pic_mcus/readme.html" class="nav-list-link">Create Hello World application on PIC MCUs</a></li><li class="nav-list-item "><a href="../../../source/basic/create_first_harmony_3_project_pic32cm_lsx/readme.html" class="nav-list-link">Create a first application on PIC32CM LSx Microcontrollers using MPLAB Harmony v3 with using MCC</a></li><li class="nav-list-item active"><a href="../../../source/basic/configure_at91bootstrap_to_enable_qspi_xip_mpus/readme.html" class="nav-list-link active">Configure at91bootstrap Second Stage Bootloader to enable QSPI XIP on MPUs</a></li><li class="nav-list-item "><a href="../../../source/basic/sam9x60_configure_second_stage_bootloader/readme.html" class="nav-list-link">Configure the second stage bootloader for SAM9X60 based MPUs</a></li><li class="nav-list-item "><a href="../../../source/basic/sama7g54_samba_installation_setup/readme.html" class="nav-list-link">SAMBA installation and setup for SAMA7G54 EK</a></li><li class="nav-list-item "><a href="../../../source/basic/sama7g54_configure_second_stage_bootloader/readme.html" class="nav-list-link">Configure the second stage bootloader for SAMA7G54 based MPUs</a></li><li class="nav-list-item "><a href="../../../source/basic/create_first_harmony_3_project_pic32cx_sg/readme.html" class="nav-list-link">Create a first application on PIC32CX SG Microcontrollers using MPLAB Harmony v3 with using MCC</a></li><li class="nav-list-item "><a href="../../../source/basic/create_iar_or_keil_project_using_mcc/readme.html" class="nav-list-link">Create IAR or Keil project using MCC</a></li><li class="nav-list-item "><a href="../../../source/basic/create_first_harmony_3_project_pic32cz_cax/readme.html" class="nav-list-link">Create a first application on PIC32CZ CAx Microcontrollers using MPLAB Harmony v3 with using MCC</a></li><li class="nav-list-item "><a href="../../../source/basic/create_new_trust_zone_project/readme.html" class="nav-list-link">Create new TrustZone Project</a></li><li class="nav-list-item "><a href="../../../source/basic/sam9x60_configure_first_stage_bootloader/readme.html" class="nav-list-link">SAM9X60 Configure First Stage Bootloader</a></li><li class="nav-list-item "><a href="../../../source/basic/sama7g54_configure_first_stage_bootloader/readme.html" class="nav-list-link">SAMA7G54 Configure First Stage Bootloader</a></li><li class="nav-list-item "><a href="../../../source/basic/sam9x60_qspi_xip_application_using_mcc/readme.html" class="nav-list-link"></a></li><li class="nav-list-item "><a href="../../../source/basic/sam9x60_getting_started_application_using_mcc/readme.html" class="nav-list-link">Getting started with SAM9X60 Curiosity Development Board using MPLAB Harmony 3</a></li><li class="nav-list-item "><a href="../../../source/basic/sama7g54_flash_boot_application_using_samba/readme.html" class="nav-list-link">SAMA7G54 Flash boot and harmony application binaries using SAM BA</a></li><li class="nav-list-item "><a href="../../../source/basic/sam9x60_flash_boot_application_using_samba/readme.html" class="nav-list-link">SAM9X60 Flash boot and harmony application binaries using SAMBA</a></li><li class="nav-list-item "><a href="../../../source/basic/harmony_sync_async_drivers/readme.html" class="nav-list-link">Differences Between Synchronous and Asynchronous Drivers</a></li><li class="nav-list-item "><a href="../../../source/basic/harmony_drivers_plibs/readme.html" class="nav-list-link">Difference Between MPLAB Harmony v3 PLIBs and Drivers</a></li><li class="nav-list-item "><a href="../../../source/basic/harmony_sync_drivers_freertos/readme.html" class="nav-list-link">Synchronous drivers and their usage in FreeRTOS based applications</a></li><li class="nav-list-item "><a href="../../../source/basic/add_new_configuration_to_harmony_3_project/readme.html" class="nav-list-link">Add a New Configuration to an Existing MPLAB Harmony v3 Project</a></li><li class="nav-list-item "><a href="../../../source/basic/create_new_harmony_3_project_using_mcc/readme.html" class="nav-list-link">Create a new MPLAB Harmony v3 project using MCC</a></li><li class="nav-list-item "><a href="../../../source/basic/harmony_3_project_manifest/readme.html" class="nav-list-link">MPLAB Harmony v3 Project Manifest Feature</a></li><li class="nav-list-item "><a href="../../../source/basic/update_mhc_harmony_3_project_to_mcc/readme.html" class="nav-list-link">Update and Configure an Existing MHC-based MPLAB Harmony v3 Project to MCC-based Project</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../source/migration/readme.html" class="nav-list-link">Migration Guides</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../source/migration/differences_harmony_2_to_harmony_3/readme.html" class="nav-list-link">Differences between Harmony 2 to Harmony 3</a></li><li class="nav-list-item "><a href="../../../source/migration/harmony_2_to_harmony_3/readme.html" class="nav-list-link">Harmony 2 to Harmony 3 Guide</a></li><li class="nav-list-item "><a href="../../../source/migration/aria_graphics_harmoy2_to_harmony_3/readme.html" class="nav-list-link">Aria Graphis Application Harmony2 to Harmony 3 Guide</a></li><li class="nav-list-item "><a href="../../../source/migration/tcpiip_harmoy2_to_harmony_3/readme.html" class="nav-list-link">TCP/IP Application Harmony2 to Harmony 3 Guide</a></li><li class="nav-list-item "><a href="../../../source/migration/sam9x60_ek_to_sam9x60_curiosity_harmony/readme.html" class="nav-list-link">Migrating a MPLAB Harmony 3 Application from the SAM9X60 EK to SAM9X60 Curiosity</a></li><li class="nav-list-item "><a href="../../../source/migration/usb_harmoy2_to_harmony_3/readme.html" class="nav-list-link">TCP/IP Application Harmony2 to Harmony 3 Guide</a></li><li class="nav-list-item "><a href="../../../source/migration/introduction_mplabx_harmony_3_to_studio_asf_users/readme.html" class="nav-list-link">Introduction to MPLABX and Harmony 3 to Atmel Studio and ASF Users</a></li><li class="nav-list-item "><a href="../../../source/migration/asf_to_harmony_3/readme.html" class="nav-list-link">Porting ASF to Harmony 3</a></li><li class="nav-list-item "><a href="../../../source/migration/atmel_start_to_harmony_3/readme.html" class="nav-list-link">Atmel START to MPLAB Harmony 3 Guide</a></li><li class="nav-list-item "><a href="../../../source/migration/pic18f_to_samd21_migration/readme.html" class="nav-list-link">Application migration from 8 bit PIC18F to 32 bit SAM D21</a></li><li class="nav-list-item "><a href="../../../source/migration/atmega4809_to_samd21_migration/readme.html" class="nav-list-link">Application migration from 8 bit AVR to 32 bit SAM D21</a></li><li class="nav-list-item "><a href="../../../source/migration/build_harmony_3_project_with_gcc/readme.html" class="nav-list-link">Build MPLAB Harmony v3 project with ARM GCC toolchain in MPLAB X IDE</a></li><li class="nav-list-item "><a href="../../../source/migration/code_generation_api_migration_from_mcc/readme.html" class="nav-list-link">Application migration from 8 bit AVR to 32 bit SAM D21</a></li><li class="nav-list-item "><a href="../../../source/migration/samc21_asf_to_pic32cmmc_harmony/readme.html" class="nav-list-link">Migrating ASF SAM C21 Application to MPLAB Harmony v3 PIC32CM MC</a></li><li class="nav-list-item "><a href="../../../source/migration/mplab_harmony_v3_project_migration/readme.html" class="nav-list-link">MPLAB Harmony v3 Project Migration</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../source/peripheral/readme.html" class="nav-list-link">Peripheral Libraries</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../source/peripheral/samc2x_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on SAMC2x MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/arm_trustzone_pic32ck_sg01_getting_started/readme.html" class="nav-list-link">Arm TrustZone Getting Started Application on PIC32CK SG01 MCU</a></li><li class="nav-list-item "><a href="../../../source/peripheral/pic32cm_le00_low_power/readme.html" class="nav-list-link">Low Power with PLIBs on PIC32CM LE00 MCU</a></li><li class="nav-list-item "><a href="../../../source/peripheral/samd5x_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on SAM D5x/E5x MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/same70_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on SAM E70/S70/V70/V71 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/saml10_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on SAM L10 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/samd21_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on SAM D21 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/sam9x60_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on SAM9X60 MPUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/pic32mz_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on PIC32MZ EF MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/pic32mx_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on PIC32MX 470 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/pic32mk_getting_started/readme.html" class="nav-list-link">Getting Started with PLIBs on PIC32MK GP MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/samc2x_low_power/readme.html" class="nav-list-link">Low Power with PLIBs on SAMC2x MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/saml21_low_power/readme.html" class="nav-list-link">Low Power with PLIBs on SAM L21 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/saml10_low_power/readme.html" class="nav-list-link">Low Power with PLIBs on SAM L10 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/same54_low_power/readme.html" class="nav-list-link">Low Power with PLIBs on SAM E54 MCU</a></li><li class="nav-list-item "><a href="../../../source/peripheral/arm_trustzone_saml11_getting_started/readme.html" class="nav-list-link">Arm TrustZone Getting Started Application on SAM L11 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/same70_getting_started_drivers/readme.html" class="nav-list-link">Getting Started with Drivers on SAM E70/S70/V70/V71 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/samd21_low_power/readme.html" class="nav-list-link">Low Power with PLIBs on SAMD21 MCUs</a></li><li class="nav-list-item "><a href="../../../source/peripheral/same70_getting_started_drivers_freertos/readme.html" class="nav-list-link">Getting Started with Drivers on SAM E70/S70/V70/V71 MCUs using FreeRTOS</a></li><li class="nav-list-item "><a href="../../../source/peripheral/samd21_getting_started_drivers_freertos/readme.html" class="nav-list-link">Getting Started with Drivers on SAM D21 MCUs Using FreeRTOS</a></li><li class="nav-list-item "><a href="../../../source/peripheral/same5x_getting_started_drivers_freertos/readme.html" class="nav-list-link">Getting Started with Drivers on SAM E5x MCUs Using FreeRTOS</a></li><li class="nav-list-item "><a href="../../../source/peripheral/samc2x_getting_started_drivers_freertos/readme.html" class="nav-list-link">Getting Started with Drivers on SAM C2x MCUs Using FreeRTOS</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../source/middleware/readme.html" class="nav-list-link">Middleware Examples</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../source/middleware/pic32mz_getting_started_middleware/readme.html" class="nav-list-link">Getting Started with Middleware on PIC32MZ EF MCUs</a></li><li class="nav-list-item "><a href="../../../source/middleware/same70_getting_started_middleware/readme.html" class="nav-list-link">Getting Started with USB on SAM MCUs Using MPLAB Harmony v3</a></li><li class="nav-list-item "><a href="../../../source/middleware/rapid_prototyping/readme.html" class="nav-list-link">Rapid Prototyping with Curiosity Nano Using MPLAB Harmony v3</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_3_audio_overview/readme.html" class="nav-list-link">MPLAB Harmony 3 Audio Overview</a></li><li class="nav-list-item "><a href="../../../source/middleware/digit_recognition_ai_ml/readme.html" class="nav-list-link">Digit Recognition AI/ML Application on SAM E51 IGAT CURIOSITY EVALUATION KIT Using MPLAB Harmony v3</a></li><li class="nav-list-item "><a href="../../../source/middleware/web_photo_frame/readme.html" class="nav-list-link">Getting Started with MPLAB® Harmony v3 to Create a Web-Enabled Digital Photo Frame</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_audio_application/readme.html" class="nav-list-link">Create first Audio Application</a></li><li class="nav-list-item "><a href="../../../source/middleware/pic32cmls60_secure_boot/readme.html" class="nav-list-link">Secure Boot on PIC32CM LS60 Curiosity Pro Evaluation Kit using MPLAB® Harmony v3</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_audio_decoder_application/readme.html" class="nav-list-link">Create first Audio Decoder Application</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../source/middleware/sdcard_audio_player_reader_tutorial/readme.html" class="nav-list-link">SD Card Audio Player Reader Tutorial</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../source/middleware/sdcard_audio_player_reader_tutorial/audio_tone_using_a_lookup_table/readme.html" class="nav-list-link">Audio Tone using a lookup table</a> </li><li class="nav-list-item "> <a href="../../../source/middleware/sdcard_audio_player_reader_tutorial/audio_tone_using_text_file_in_sd_card/readme.html" class="nav-list-link">Audio Tone using text fil in SD card</a> </li><li class="nav-list-item "> <a href="../../../source/middleware/sdcard_audio_player_reader_tutorial/sd_card_reader_to_load_audio_files/readme.html" class="nav-list-link">SD card Reader to load Audio Files</a> </li><li class="nav-list-item "> <a href="../../../source/middleware/sdcard_audio_player_reader_tutorial/play_wav_audio_file_from_sd_card/readme.html" class="nav-list-link">Play WAV Audio File from SD Card</a> </li><li class="nav-list-item "> <a href="../../../source/middleware/sdcard_audio_player_reader_tutorial/display_graphics_to_select_and_play_audio_file/readme.html" class="nav-list-link">Display Graphics to Select and Play Audio File</a> </li></ul></li><li class="nav-list-item "><a href="../../../source/middleware/quickstart_prebuilt_graphics_applications/readme.html" class="nav-list-link">Quickstart Prebuilt Graphics Applications</a></li><li class="nav-list-item "><a href="../../../source/middleware/creating_a_new_graphics_application/readme.html" class="nav-list-link">Creating a new Graphics Application</a></li><li class="nav-list-item "><a href="../../../source/middleware/graphics_quick_start_application_guides/readme.html" class="nav-list-link">Graphics Quick Start Application Guides</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_graphics_suite_user_guide/readme.html" class="nav-list-link">Harmony Graphics Suite User Guide</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_qtouch_user_guide/readme.html" class="nav-list-link">Harmony QTouch User Guide</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_tcpip_user_guide/readme.html" class="nav-list-link">Harmony TCP/IP User Guide</a></li><li class="nav-list-item "><a href="../../../source/middleware/ftp_harmony_tcpip/readme.html" class="nav-list-link">File Transfer Protocol Using MPLAB Harmony v3 TCP/IP Stack for SAM E54 MCU</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_usb_stack_user_guide/readme.html" class="nav-list-link">Harmony USB Stack User Guide</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_a_touch_project/readme.html" class="nav-list-link">Create a Touch Project</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_touch_surface_gesture_project/readme.html" class="nav-list-link">Create Touch Surface and Gesture Project</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_crypto_overview/readme.html" class="nav-list-link">Harmony Crypto Overview</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_winc_bypass_mode_example/readme.html" class="nav-list-link">Create Your First WINC Bypass Mode Example</a></li><li class="nav-list-item "><a href="../../../source/middleware/harmony_winc_driver_architecture/readme.html" class="nav-list-link">Harmony WINC Driver Architecture</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_bluetooth_application/readme.html" class="nav-list-link">Create first Bluetooth Application</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_motor_control_application/readme.html" class="nav-list-link">Create first Motor Control Application</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_tcpip_application/readme.html" class="nav-list-link">Create first TCPIP Application</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_usb_device_application/readme.html" class="nav-list-link">Create first USB device application</a></li><li class="nav-list-item "><a href="../../../source/middleware/create_first_usb_host_application/readme.html" class="nav-list-link">Create first USB Host application</a></li></ul></li><li class="nav-list-item"><a href="../../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Microchip MPLAB Harmony Quick Documentation help" aria-label="Search Microchip MPLAB Harmony Quick Documentation help" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../source/basic/readme.html">Harmony Basics</a></li> <li class="breadcrumb-nav-list-item"><span>Configure at91bootstrap Second Stage Bootloader to enable QSPI XIP on MPUs</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p>                                                                                                     <a href="../../../index.html"><img src="../../r_images/quick_home.png" title="Home" /></a> <a href="../readme.html"><img src="../../r_images/quick_back.png" title="Back" /></a></p> <h3 id="note"> <a href="#note" aria-labelledby="note" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Note: </h3> <p><span style="color:blue"> <strong>This guide will teach you how to configure at91bootstrap(Second Stage Bootloader) to enable QSPI-XIP on MPUs.</strong></span></p> <ul> <li><a href="https://www.microchip.com/en-us/education/developer-help/learn-products/mcu-mpu/32bit-mpu/sam9x60-boot-process">SAM9X60 boot process click here </a></li> <li><a href="https://www.microchip.com/en-us/product/SAM9X60">SAM9X60 data sheet</a></li> <li><a href="https://www.microchip.com/en-us/development-tool/EV21H18A">SAMA7G54 Evaluation kit</a></li> <li><a href="https://www.microchip.com/en-us/product/sama7g54">SAMA7G5 series data sheet</a></li> </ul> <h2 id="introduction"> <a href="#introduction" aria-labelledby="introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>This training module describes the following for at91bootstrap, a second-stage bootloader for Microchip Technology Arm®-based Microprocessor Units (MPU), where to get the source code, how to configure, compile and debug using MPLAB® X IDE on windows host.</p> <ul> <li> <p>The following solution is tested based on <strong>at91bootstrap version 4.0.7</strong>.</p> </li> <li> <p>The at91bootstrap bootloader can be stored in external NVMs like (SD Memory Card), Multimedia Card (MMC), Embedded Multimedia Card (eMMC), NAND Flash, Serial Flash, QSPI Flash, Data Flash memory). The first-stage bootloader (ROM Boot Code) will load at91bootstrap from external NVM depending on the value of the Boot Configuration Packet.</p> </li> <li> <p><a href="../../source/basic/sam9x60_configure_first_stage_bootloader/readme.html">Click here to learn how to configure Boot Configuration Packet for SAM9X60.</a> <br /> Note: <strong><em>To learn about the boot process and first stage boot configuration, refer section:Boot Strategies of the respective MPUs data sheet.</em></strong> <br /></p> </li> <li>at91bootstrap if configured to do so, will initialize the following peripherals and memory controllers: <ul> <li><strong>Advanced Interrupt Controller (AIC)</strong></li> <li><strong>Peripheral I/O Controller (PIO)</strong></li> <li><strong>Power Management Controller (PMC)</strong></li> <li><strong>Clock Generator (CKGR)</strong></li> <li><strong>Static Memory Controller (HSMC)</strong></li> <li><strong>NAND Flash Controller (NFC)</strong></li> <li><strong>Multiport DDR-SDRAM Controller (MPDDRC)</strong></li> <li><strong>Secure Digital Multimedia Card Controller (SDMMC)</strong> <br /></li> </ul> </li> <li>at91bootstrap is written and maintained by Microchip Technology and hosted on GitHub.</li> </ul> <h2 id="required-software-and-hardware-tools"> <a href="#required-software-and-hardware-tools" aria-labelledby="required-software-and-hardware-tools" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Required software and hardware tools </h2> <details> <summary> <p>Details</p> </summary> <p><br /> This document is written with the assumption that the user is aware of the external NVMS &amp; DDR memory available in the respective MPU boards (Like Evaluation Kits, Curiosity Boards, SIP or SOM) by reading the respective user guide.</p> <ul> <li>To build/debug at91bootstrap using MPLAB® X IDE on windows host, the following tools should be installed properly: <ul> <li><a href="https://www.microchip.com/en-us/tools-resources/develop/mplab-x-ide">Download and install MPLAB® X IDE.</a></li> <li><a href="https://www.microchip.com/en-us/tools-resources/develop/mplab-xc-compilers">Download and install XC32 Compiler.</a></li> </ul> </li> <li>User can use below hardware tools: <ul> <li><a href="https://www.microchip.com/en-us/development-tool/DT100126">SAM9X60 Evaluation kit.</a> (or) <a href="https://www.microchip.com/en-us/development-tool/EV40E67A">SAM9X60 Curiosity Development Board.</a></li> <li>External J32 debugger if SAM9X60 Curiosity Development Board is used.</li> <li><a href="https://www.microchip.com/en-us/development-tool/EV21H18A">SAMA7G54 Evaluiation Kit</a></li> </ul> </li> </ul> </details> <h2 id="getting-at91bootstrap-source-code"> <a href="#getting-at91bootstrap-source-code" aria-labelledby="getting-at91bootstrap-source-code" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting at91bootstrap Source Code </h2> <details> <summary> <p>Details</p> </summary> <p><br /></p> <ol> <li> <p><strong>Create a Project Directory:</strong> Create a project directory to keep all the sources together for a given project. For the purpose of this tutorial topic, the created project directory is <strong>Harmony3</strong>.</p> </li> <li> <p><strong>Get at91bootstrap:</strong> Get the complete source code of at91bootstrap by either of the following ways:</p> <ul> <li> <p>If you have git installed , clone the repo into the project directory by using the command:</p> <p>$ git clone git@https://github.com/linux4sam/at91bootstrap</p> </li> <li>If you don’t have git installed, then <a href="https://github.com/linux4sam/at91bootstrap">Download at91bootstrap</a> and unzip into your project directory. <img src="images/directory.png" align="middle" /> <br /></li> <li><strong>Note:</strong> Use at91bootstrap version v4.0.7 or higher</li> </ul> </li> </ol> </details> <h2 id="configure-build-and-debug-at91bootstrap"> <a href="#configure-build-and-debug-at91bootstrap" aria-labelledby="configure-build-and-debug-at91bootstrap" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure, build and debug at91bootstrap </h2> <details> <summary> <p>Details</p> </summary> <p><br /></p> <p>User should follow the below steps to build the at91bootstrap either to debug the harmony application executed from QSPI on MPLAB® X IDE or to run the harmony application executed from QSPI :</p> <ol> <li>Preparing the build Environment.</li> <li>Configure the at91bootstrap.</li> <li>Building the at91bootstrap.</li> <li>Debugging the at91bootstrap.</li> </ol> <h3 id="preparing-the-build-environment"> <a href="#preparing-the-build-environment" aria-labelledby="preparing-the-build-environment" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Preparing the build Environment </h3> <details> <summary> <p>Details</p> </summary> <p><br /></p> <p>1.1. <strong>Open at91Bootstrap project:</strong> To begin, launch MPLAB® X IDE and then go to File –&gt; Open Project –&gt;choose downloaded at91bootstrap project. <img src="images/1_1.png" align="middle" /></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Now set it as main project.   &lt;img src = "images/1_1a.png" align="middle"&gt;
</code></pre></div> </div> <p>1.2. <strong>Compiler setting:</strong> User can use XC32 compiler to build at91bootstrap. <br /> Go to Project –&gt; Properties –&gt; Makefile —&gt; Copy the XC32 installation path and update it in the build/debug and clean command –&gt; Apply —&gt; ok .</p> <p>E.g. <br /> Build/Debug command: <strong><em>make CROSS_COMPILE=”C:/Program Files/Microchip/xc32/v4.30/bin/bin/pic32c-“</em></strong> <br /> Clean command: <strong><em>make mplabclean CROSS_COMPILE=”C:/Program Files/Microchip/xc32/v4.30/bin/bin/pic32c-“</em></strong></p> <p><img src="images/1_2.png" align="middle" /></p> </details> <h3 id="configure-the-at91bootstrap"> <a href="#configure-the-at91bootstrap" aria-labelledby="configure-the-at91bootstrap" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Configure the at91bootstrap </h3> <details> <summary> <p>Details</p> </summary> <p><br /> The at91bootstrap can be configured to debug harmony application executed from QSPI flash on MPLAB® X IDE or to run harmony application from QSPI flash by using KCONFIG.</p> <h4 id="configure-at91bootstrap-to-debug-harmony-application-executed-from-qspi-flash-on-mplab-x-ide"> <a href="#configure-at91bootstrap-to-debug-harmony-application-executed-from-qspi-flash-on-mplab-x-ide" aria-labelledby="configure-at91bootstrap-to-debug-harmony-application-executed-from-qspi-flash-on-mplab-x-ide" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1 Configure at91bootstrap to debug harmony application executed from QSPI flash on MPLAB® X IDE </h4> <details> <summary> <p>Details</p> </summary> <p><br /></p> <p>To configure at91bootstrap to debug harmony application executed from QSPI flash on MPLAB® X IDE, go to Project –&gt; Properties –&gt; Kconfig –&gt; load –&gt; <strong>project directory</strong> –&gt; configs –&gt; (board)df_qspi_uboot_defconfig –&gt; Open.</p> <p><img src="images/2_1a.png" align="middle" /></p> <p>Then perform the following changes:</p> <ul> <li>Primary Operation –&gt; Load and Stop.</li> <li>Flash Memory –&gt; QSPI Configuration –&gt; eXecute In Place</li> <li>Next software type –&gt; Load 4MB into the start of SDRAM.</li> <li>Demo application image storage setup: <ul> <li>Flash offset –&gt; QSPI offset where a user wants to flash the application.</li> <li>Demo app image size –&gt; Size of the app image.</li> <li>External RAM address to load Demo-App image –&gt; Provide the QSPI starting address of the application. It should match the .text load address in your application linker script. <br /> External QSPI address of SAM9X60 board starts from 0x70000000 – 0x708000000. Please refer to the data sheet for more details. <br /> External QSPI address of SAMA7G5 board starts from 0x20000000 – 0x280000000. Please refer to the data sheet for more details. <br /></li> </ul> </li> </ul> <p>An example configuration for SAMA7G5-EK is shown below. <img src="images/2_1b.png" align="middle" /></p> <p>Now Click Apply –&gt; OK. <br /></p> <p>The boot file(at91bootstrap.elf) generated by doing this kconfig, can be used to debug harmony application executed from QSPI flash on MPLAB® X IDE.</p> </details> <h4 id="configure-at91bootstrap-to-run-harmony-application-from-qspi-flash"> <a href="#configure-at91bootstrap-to-run-harmony-application-from-qspi-flash" aria-labelledby="configure-at91bootstrap-to-run-harmony-application-from-qspi-flash" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2. Configure at91bootstrap to run harmony application from QSPI flash </h4> <details> <summary> <p>Details</p> </summary> <p><br /></p> <p>To configure at91bootstrap to debug harmony application executed from QSPI flash on MPLAB® X IDE this, go to Project –&gt; Properties –&gt; Kconfig –&gt; load –&gt; <strong>project directory</strong> –&gt; configs –&gt; (board)df_qspi_uboot_defconfig –&gt; Open.</p> <p><img src="images/2_1a.png" align="middle" /></p> <p>Then perform the following changes:</p> <ul> <li>Primary Operation –&gt; Load and Launch next software.</li> <li>Flash Memory –&gt; QSPI Configuration –&gt; eXecute In Place</li> <li>Next software type –&gt; Load 4MB into the start of SDRAM.</li> <li>Demo application image storage setup: <ul> <li>Flash offset –&gt; QSPI offset where a user wants to flash the application.</li> <li>Demo app image size –&gt; Size of the app image.</li> <li>External RAM address to load Demo-App image –&gt; Provide the QSPI starting address of the application. It should match the .text load address in your harmony application linker script.<br /> External QSPI address of SAM9X60 board starts from 0x70000000 – 0x708000000. Please refer to the data sheet for more details.<br /> External QSPI address of SAMA7G5 board starts from 0x20000000 – 0x280000000. Please refer to the data sheet for more details.</li> </ul> </li> </ul> <p>An example configuration for SAMA7G5-EK is shown below. <img src="images/2_2b.png" align="middle" /></p> <p>Now Click Apply –&gt; OK. <br /></p> <p>The boot file(at91bootstrap.elf) generated by doing this kconfig, can be used to run harmony application executed from QSPI flash.</p> </details> </details> <h3 id="building-the-at91bootstrap"> <a href="#building-the-at91bootstrap" aria-labelledby="building-the-at91bootstrap" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Building the at91bootstrap </h3> <details> <summary> <p>Details</p> </summary> <p><br /> To build the at91bootstrap go to project –&gt; Clean and build or simply click the build icon in the IDE.</p> <p><img src="images/4a.png" align="middle" /></p> <p><strong>Note:</strong> When building using XC32 compiler, if a user doesn’t have XC32 pro compiler, a warning saying cannot optimize size will pop up in the compiler output window as follows. To avoid this either use XC32 pro compiler or just ignore this.</p> <p><img src="images/4b.png" align="middle" /></p> <p>Once the build is successful, you will get the build success message in the IDE as shown in the above Image.</p> <p>Now user will be able to see the boot.bin file in the <strong>project directory</strong>/build/binaries.</p> <p>boot.bin file is the at91bootstrap file.</p> <p><img src="images/4c.png" align="middle" /></p> </details> <h3 id="debugging-the-at91bootstrap"> <a href="#debugging-the-at91bootstrap" aria-labelledby="debugging-the-at91bootstrap" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Debugging the at91bootstrap </h3> <details> <summary> <p>Details</p> </summary> <p><br /> To debug the at91bootstrap, go to project –&gt; Set as main project. Then click project –&gt; Debug or simply click the debug icon in the IDE. Now user can start debugging the at91bootstrp by clicking the debug symbols available in the IDE like Step into, Reset, Step over etc.</p> <p><img src="images/5a.png" align="middle" /></p> <p>When debugging the application, serial console outputs can be monitored by connecting windows host with the board (Eg: SAM9X60-EK) through a terminal emulation program. For example, refer to <a href="https://microchipdeveloper.com/32mpu:sam9x60-ek-console">this link</a> to download terminal emulation program and follow the steps to establish a serial communication with SAM9X60-EK. An example image showing the serial console output while debugging at91bootstrap is shown below. <img src="images/5b.png" align="middle" /></p> </details> </details> <p>&lt;/details&gt;</p> <h2 id="note-1"> <a href="#note-1" aria-labelledby="note-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Note </h2> <ul> <li><strong><a href="../../source/basic/sam9x60_configure_first_stage_bootloader/readme.html">Click here to learn how to configure first stage bootloader for SAM9X60 MPU</a></strong></li> <li><strong><a href="../../source/basic/sam9x60_qspi_xip_application_using_mcc/readme.html">Click here to develop a harmony based application executed from QSPI for SAM9X60 MPU using MPLAB® X IDE </a></strong></li> </ul> <h2 id="reference-links"> <a href="#reference-links" aria-labelledby="reference-links" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reference Links </h2> <p><a href=""><a href="https://www.microchip.com/design-centers/32-bit" target="_blank"> <img src="../../r_images/32_bit_mcus.png" /> </a></a>       <a href=""><a href="https://www.microchip.com/design-centers/32-bit-mpus" target="_blank"> <img src="../../r_images/32_bit_mpus.png" /> </a></a>       <a href=""><a href="https://www.microchip.com/mplab/mplab-x-ide" target="_blank"> <img src="../../r_images/mplab_x_ide.png" /> </a></a>     <a href=""><a href="https://www.microchip.com/mplab/mplab-harmony" target="_blank"> <img src="../../r_images/mplab_harmony.png" /> </a></a> <a href=""><a href="https://www.microchip.com/mplab/compilers" target="_blank"> <img src="../../r_images/mplab_compiler.png" /> </a></a> <a href=""><a href="https://www.microchip.com/en-us/tools-resources/configure/mplab-code-configurator" target="_blank"> <img src="../../r_images/mcc_harmony.png" /> </a></a></p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2024 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
