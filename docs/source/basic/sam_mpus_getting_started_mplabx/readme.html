<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Getting started with SAM MPU Devices on MPLAB X Tools - Microchip MPLAB Harmony Quick Documentation help</title> <link rel="shortcut icon" href="http://localhost:4000/quick_docs/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/quick_docs/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-2724382-16"); </script> <script type="text/javascript" src="http://localhost:4000/quick_docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/quick_docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Getting started with SAM MPU Devices on MPLAB X Tools | Microchip MPLAB Harmony Quick Documentation help</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Getting started with SAM MPU Devices on MPLAB X Tools" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Quick Documentation package" /> <meta property="og:description" content="Harmony 3 Quick Documentation package" /> <link rel="canonical" href="http://localhost:4000/quick_docs/source/basic/sam_mpus_getting_started_mplabx/readme.html" /> <meta property="og:url" content="http://localhost:4000/quick_docs/source/basic/sam_mpus_getting_started_mplabx/readme.html" /> <meta property="og:site_name" content="Microchip MPLAB Harmony Quick Documentation help" /> <script type="application/ld+json"> {"@type":"WebPage","url":"http://localhost:4000/quick_docs/source/basic/sam_mpus_getting_started_mplabx/readme.html","headline":"Getting started with SAM MPU Devices on MPLAB X Tools","description":"Harmony 3 Quick Documentation package","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/quick_docs/assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/quick_docs" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/quick_docs/" class="navigation-list-link">Harmony 3 Quick Docs</a></li><li class="navigation-list-item active"><a href="http://localhost:4000/quick_docs/source/basic/readme.html" class="navigation-list-link">Harmony Basics</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mplab_harmony_3_configurator/readme.html" class="navigation-list-link">MPLAB Harmony 3 Configurator (MHC)</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_project_graph/readme.html" class="navigation-list-link">MHC Project Graph</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_clock_configuration/readme.html" class="navigation-list-link">MHC Clock Configuration</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_pin_configuration/readme.html" class="navigation-list-link">MHC Pin Configuration</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_nvic_configuration/readme.html" class="navigation-list-link">MHC NVIC Configuration</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_dma_configuration/readme.html" class="navigation-list-link">MHC DMA Configuration</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_memory_protection_unit_configuration/readme.html" class="navigation-list-link">MHC Memory Protection Unit Configuration</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_code_generation/readme.html" class="navigation-list-link">MHC Code Generation</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/mhc_window_manager_log_level/readme.html" class="navigation-list-link">MHC Window manager and log level</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/create_first_harmony_3_project/readme.html" class="navigation-list-link">Create First Harmony 3 Project</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/create_hello_world_sam_mcus/readme.html" class="navigation-list-link">Create Hello World application on SAM MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/create_hello_world_pic_mcus/readme.html" class="navigation-list-link">Create Hello World application on PIC MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/open_an_existing_harmony_3_project/readme.html" class="navigation-list-link">Open an Existing Harmony 3 Project</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/harmony_3_packages/readme.html" class="navigation-list-link">Harmony 3 Packages</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/create_iar_or_keil_project_using_mhc/readme.html" class="navigation-list-link">Create IAR or Keil project using MHC</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/create_new_trust_zone_project/readme.html" class="navigation-list-link">Create new TrustZone Project</a></li><li class="navigation-list-item active"><a href="http://localhost:4000/quick_docs/source/basic/sam_mpus_getting_started_mplabx/readme.html" class="navigation-list-link active">Getting started with SAM MPU Devices on MPLAB X Tools</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/basic/sam_mpus_getting_started_harmony_3/readme.html" class="navigation-list-link">Getting Started with MPLAB Harmony v3 on the SAMA5D2</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/quick_docs/source/migration/readme.html" class="navigation-list-link">Migration Guides</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/differences_harmony_2_to_harmony_3/readme.html" class="navigation-list-link">Differences between Harmony 2 to Harmony 3</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/harmony_2_to_harmony_3/readme.html" class="navigation-list-link">Harmony 2 to Harmony 3 Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/aria_graphics_harmoy2_to_harmony_3/readme.html" class="navigation-list-link">Aria Graphis Application Harmony2 to Harmony 3 Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/tcpiip_harmoy2_to_harmony_3/readme.html" class="navigation-list-link">TCP/IP Application Harmony2 to Harmony 3 Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/usb_harmoy2_to_harmony_3/readme.html" class="navigation-list-link">TCP/IP Application Harmony2 to Harmony 3 Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/introduction_mplabx_harmony_3_to_studio_asf_users/readme.html" class="navigation-list-link">Introduction to MPLABX and Harmony 3 to Atmel Studio and ASF Users</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/asf_to_harmony_3/readme.html" class="navigation-list-link">Porting ASF to Harmony 3</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/migration/atmel_start_to_harmony_3/readme.html" class="navigation-list-link">Atmel START to MPLAB Harmony 3 Guide</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/quick_docs/source/peripheral/readme.html" class="navigation-list-link">Peripheral Libraries</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/samc2x_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on SAMC2x MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/samd5x_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on SAM D5x/E5x MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/same70_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on SAM E70/S70/V70/V71 MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/saml10_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on SAM L10 MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/samd21_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on SAM D21 MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/pic32mz_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on PIC32MZ EF MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/pic32mx_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on PIC32MX 470 MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/pic32mk_getting_started/readme.html" class="navigation-list-link">Getting Started with PLIBs on PIC32MK GP MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/samc2x_low_power/readme.html" class="navigation-list-link">Low Power with PLIBs on SAMC2x MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/saml21_low_power/readme.html" class="navigation-list-link">Low Power with PLIBs on SAM L21 MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/same70_getting_started_drivers/readme.html" class="navigation-list-link">Getting Started with Drivers on SAM E70/S70/V70/V71 MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/peripheral/same70_getting_started_drivers_freertos/readme.html" class="navigation-list-link">Getting Started with Drivers on SAM E70/S70/V70/V71 MCUs using FreeRTOS</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/quick_docs/source/middleware/readme.html" class="navigation-list-link">Middleware Examples</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/pic32mz_getting_started_middleware/readme.html" class="navigation-list-link">Getting Started with Middleware on PIC32MZ EF MCUs</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_3_audio_overview/readme.html" class="navigation-list-link">MPLAB Harmony 3 Audio Overview</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_audio_application/readme.html" class="navigation-list-link">Create first Audio Application</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_audio_decoder_application/readme.html" class="navigation-list-link">Create first Audio Decoder Application</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/sdcard_audio_player_reader_tutorial/readme.html" class="navigation-list-link">SD Card Audio Player Reader Tutorial</a><ul class="navigation-list-child-list"><li class="navigation-list-item "> <a href="http://localhost:4000/quick_docs/source/middleware/sdcard_audio_player_reader_tutorial/audio_tone_using_a_lookup_table/readme.html" class="navigation-list-link">Audio Tone using a lookup table</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/quick_docs/source/middleware/sdcard_audio_player_reader_tutorial/audio_tone_using_text_file_in_sd_card/readme.html" class="navigation-list-link">Audio Tone using text fil in SD card</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/quick_docs/source/middleware/sdcard_audio_player_reader_tutorial/sd_card_reader_to_load_audio_files/readme.html" class="navigation-list-link">SD card Reader to load Audio Files</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/quick_docs/source/middleware/sdcard_audio_player_reader_tutorial/play_wav_audio_file_from_sd_card/readme.html" class="navigation-list-link">Play WAV Audio File from SD Card</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/quick_docs/source/middleware/sdcard_audio_player_reader_tutorial/display_graphics_to_select_and_play_audio_file/readme.html" class="navigation-list-link">Display Graphics to Select and Play Audio File</a> </li></ul></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/quickstart_prebuilt_graphics_applications/readme.html" class="navigation-list-link">Quickstart Prebuilt Graphics Applications</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/creating_a_new_graphics_application/readme.html" class="navigation-list-link">Creating a new Graphics Application</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/graphics_quick_start_application_guides/readme.html" class="navigation-list-link">Graphics Quick Start Application Guides</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_graphics_suite_user_guide/readme.html" class="navigation-list-link">Harmony Graphics Suite User Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_usb_device_application/readme.html" class="navigation-list-link">Create first USB device application</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_usb_host_application/readme.html" class="navigation-list-link">Create first USB Host application</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_usb_stack_user_guide/readme.html" class="navigation-list-link">Harmony USB Stack User Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_tcpip_application/readme.html" class="navigation-list-link">Create first TCPIP Application</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_tcpip_user_guide/readme.html" class="navigation-list-link">Harmony TCP/IP User Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_a_touch_project/readme.html" class="navigation-list-link">Create a Touch Project</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_touch_surface_gesture_project/readme.html" class="navigation-list-link">Create Touch Surface and Gesture Project</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_qtouch_user_guide/readme.html" class="navigation-list-link">Harmony QTouch User Guide</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_crypto_overview/readme.html" class="navigation-list-link">Harmony Crypto Overview</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_winc_bypass_mode_example/readme.html" class="navigation-list-link">Create Your First WINC Bypass Mode Example</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/harmony_winc_driver_architecture/readme.html" class="navigation-list-link">Harmony WINC Driver Architecture</a></li><li class="navigation-list-item "><a href="http://localhost:4000/quick_docs/source/middleware/create_first_bluetooth_application/readme.html" class="navigation-list-link">Create first Bluetooth Application</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/quick_docs/release_notes.html" class="navigation-list-link">Release notes</a></li><li class="navigation-list-item"><a href="http://localhost:4000/quick_docs/mplab_harmony_license.html" class="navigation-list-link">License</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Microchip MPLAB Harmony Quick Documentation help" aria-label="Search Microchip MPLAB Harmony Quick Documentation help" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="https://support.microchip.com">Obtain Support from Microchip</a></li> </ul> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/quick_docs/source/basic/readme.html">Harmony Basics</a></li> <li class="breadcrumb-nav-list-item"><span>Getting started with SAM MPU Devices on MPLAB X Tools</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <p>                                                                                                     <a href="/quick_docs/"><img src="../../r_images/quick_home.png" title="Home" /></a> <a href="/quick_docs/source/basic/readme.html"><img src="../../r_images/quick_back.png" title="Back" /></a></p> <h2 id="getting-started-with-mplab-harmony-3-on-microchip-sam-mpus"> <a href="#getting-started-with-mplab-harmony-3-on-microchip-sam-mpus" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Getting started with MPLAB® Harmony 3 on Microchip SAM MPU’s </h2> <p>The SAM MPU’s, like the SAMA5D2 and SAM9X60, have a ROM based boot loader that looks for a second stage boot loader in external NVM, relocates it to internal SRAM, and executes it. Harmony uses the AT91Bootstrap as its second stage boot loader. The AT91Bootstrap initializes clocks, PIO, and DDR prior to relocating the application image from NVM to DDR and starting it.</p> <p>To make development easier, rather than loading the AT91Bootstrap and Harmony images into NVM, we can use MPLAB X to load both the bootloader and application via the debug interface (e.g. JTAG/JLINK). The github page for the <a href="https://github.com/linux4sam/at91bootstrap" target="_blank">bootloader </a> has instructions on how to configure and build on both Windows and Linux platforms. For now, we’ll just focus on only the configuration changes needed to build an image for use with MPLAB X. Some of our existing boards already have a defconfig for use with MPLAB X. Look for a defconfig with the name bkptnone in it, e.g, sama5d2_xplained_bkptnone_defconfig. You can then simply run:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">make sama5d2_xplained_bkptnone_defconfig</code></p> </blockquote> <p>If your board doesn’t already have a defconfig, not to worry, we can easily create one. To start, pick the defconfig for your board that runs out of some NVM, like an SD card, e.g. sama5d2_xplainedsd_uboot_defconfig. Run:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make sama5d2_xplainedsd_uboot_defconfig
make menuconfig
</code></pre></div></div> <p>Select “Image Loading Strategy” Select “Do not load any image after bootstrap run”</p> <p><img src="images/no_load.png" align="middle" /></p> <p>Select “Build image for use with debuggers”</p> <p><img src="images/debuggers.png" align="middle" /></p> <p>Save the configuration and exit kconfig. Compile the bootloader. You’ll need the boot.bin file created as part of the build process.</p> <p>Prebuilt binaries are also available in this repository.</p> <ul> <li>SAMA5D2 <ul> <li><a href="https://github.com/Microchip-MPLAB-Harmony/csp/wiki/binaries/sama5d2/xplained/sdcard/boot.bin" target="_blank">SAMA5D2 XULT HARMONY</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/csp/wiki/binaries/sama5d2/xplained/mplab/boot.bin" target="_blank">SAMA5D2 XULT MPLAB</a></li> </ul> </li> <li>SAM9X60 <ul> <li><a href="https://github.com/Microchip-MPLAB-Harmony/csp/wiki/binaries/sam9x60/ek/sdcard/boot.bin" target="_blank">SAM9X60 EK HARMONY</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/csp/wiki/binaries/sam9x60/ek/mplab/boot.bin" target="_blank">SAM9X60 EK MPLAB</a></li> </ul> </li> </ul> <p>Next we need to tell MPLAB X how to use the boot.bin image we just created or downloaded. We do this by creating a python script named autoload.py in the root folder of the MPLAB X project. For example, if we want to run the pit led_toggle_interrupt project we would create the autoload.py file in</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">.../csp/apps/pit/led_toggle_interrupt/firmware/sam_a5d2_xult_xc32.X</code></p> </blockquote> <p>The contents of a typical autoload.py are shown below.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>global g_mpu_config

g_mpu_config = {'type':'application',

    'entry_addr':0x26f00000,

    'bootstrap_entry_addr':0x200000,

    'bootstrap_bin_path':'./boot.bin'}

def on_pre_program():

    pass
</code></pre></div></div> <p>Note that for the SAM9X60 the entry_addr is 0x23f00000 and the bootstrap_entry_addr is 0x300000. Now copy the boot.bin file from the AT91Bootstrap build done previously to the same directory where the autoload.py script is.</p> <p>Now that the autoload.py and bootstrap are in place, we can use MPLAB X to download and debug our Harmony application. Start by loading the project in MPLAB X. Right click on the project name and select “Properties”.</p> <p><img src="images/properties.png" align="middle" /></p> <p>Select the correct HW debugging tool and Compiler. In this example the J-Link and XC-32 v2.41 are used. Simply hit the debug image button</p> <p><img src="images/debug_image.png" align="middle" /></p> <p>The IDE will connect to the hardware, load the bootloader, wait for it to enter debug mode, then load the Harmony application into DDR and execute it. You can set breakpoints, examine variables, and debug the hardware as you normally would.</p> <h2 id="note"> <a href="#note" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Note </h2> <p><span style="color:blue"> <em>This page has been verified with the following versions of software tools:</em></span></p> <ul> <li><a href="https://github.com/Microchip-MPLAB-Harmony/csp/releases/tag/v3.7.1">MPLAB Harmony v3 “csp” repo v3.7.1</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/dev_packs/releases/tag/v3.7.0">MPLAB Harmony v3 “dev_packs” repo v3.7.0</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/mhc/releases/tag/v3.4.0">MPLAB Harmony v3 “mhc” repo v3.4.0</a></li> <li>MPLAB Harmony Configurator Plugin v3.5.0</li> <li><a href="https://www.microchip.com/mplab/mplab-x-ide">MPLAB X IDE v5.40</a></li> <li><a href="https://www.microchip.com/mplab/compilers">MPLAB XC32 Compiler v2.41</a></li> </ul> <p><span style="color:blue"> Because Microchip regularly update tools, occasionally there could be minor differences with the newer versions of the tools. </span></p> <h2 id="reference-links"> <a href="#reference-links" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Reference Links </h2> <p><a href=""><a href="https://www.microchip.com/design-centers/32-bit" target="_blank"> <img src="../../r_images/32_bit_mcus.png" /> </a></a>       <a href=""><a href="https://www.microchip.com/design-centers/32-bit-mpus" target="_blank"> <img src="../../r_images/32_bit_mpus.png" /> </a></a>       <a href=""><a href="https://www.microchip.com/mplab/mplab-x-ide" target="_blank"> <img src="../../r_images/mplab_x_ide.png" /> </a></a>     <a href=""><a href="https://www.microchip.com/mplab/mplab-harmony" target="_blank"> <img src="../../r_images/mplab_harmony.png" /> </a></a> <a href=""><a href="https://www.microchip.com/mplab/compilers" target="_blank"> <img src="../../r_images/mplab_compiler.png" /> </a></a></p> <hr> <footer role="contentinfo"> <p class="text-small text-grey-dk-000 mb-0"><img src='http://localhost:4000/quick_docs/assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2020 Microchip Technology.</p> </footer> </div> </div> </div> </div> </body> </html>
